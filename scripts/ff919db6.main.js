(function(){window.TestModel=function(){function a(a){this.object=a}return a}()}).call(this),function(){window.TestsController=function(){function a(a){null==a&&(a=[]),this.settings=$.extend({},b,a),this.parseJSON()}var b,c,d;return b={file_name:"scripts/tests.json"},c=!1,d=[],a.prototype.parseJSON=function(){return $.ajax({url:this.settings.file_name,success:function(a){var b,e,f,g,h;if(a.tests)for(h=a.tests,b=f=0,g=h.length;g>f;b=++f)e=h[b],d[b]=new TestModel(e);return c=!0}})},a.prototype.onLoad=function(a){var b;return(b=function(){return c?a():setTimeout(function(){return b()},10)})()},a.prototype.getTestList=function(){return d},a}()}.call(this),function(){var a;window.TestsView=function(){function a(){p=new TestsController,u(),this.onLoad(function(){return x(function(){return F(),s(),l()})})}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;return p=void 0,v=!1,e=$(".test-container"),f=$(".test-progress"),d=$(".test-header"),g=$(".test-result"),E="background-numbers",D="question",c=$(".test-buttons"),b=$(".test-button-container"),A=void 0,h=void 0,i=void 0,C=void 0,B=void 0,w=[{progress:"",head:"Тесты",text:"Задача оргинизации, в особенности же начало повседневной работы по формированию позиции влечет за собой процесс внедрения и модернизации позиций, занимаемых участниками в отношении поставленных задач. Не следует, однако, забывать, что постоянное информационно-пропагандисткое обеспечение нашей деятельности обеспечивает широкому кругу (специалистов) участие в формировании систем малого учатия."}],a.prototype.onLoad=function(a){var b;return(b=function(){return v?a():setTimeout(function(){return b()},10)})()},x=function(a){return e.addClass("hidden"),setTimeout(function(){return a(),e.removeClass("hidden")},500)},F=function(a){var b;return a?g.removeClass(E):g.addClass(E),b=$.extend({},w,a),b=b[0],f.text(b.progress),d.text(b.head),g.text(b.text)},l=function(){return e.on("click",".test-button-container",function(a){var b,c,d,e,f;return b=$(this).data("action"),a.stopPropagation(),"start_test"===b&&(d=$(this).data("id"),c=A[d].object.hidden_code,e=m(c),f=$(this).data("repeat"),e&&!f?(h=A[d].object,i=d,B=e,t()):(o(c),z(d))),"contact_page"===b&&$("#contacts_nav").click(),"answer"===b&&k($(this).data("question_value")),"start_page"===b?x(function(){return F(),s()}):void 0})},z=function(a){var b;return i=a,h=A[a].object,C=-1,B=0,b=[{progress:"0/"+h.questions.length,head:h.name,text:h.intro}],x(function(){return F(b),n(),j("Начать тест",{action:"answer",question_value:0}),j("Вернуться",{action:"start_page"})})},k=function(a){return B+=a,C++,C<h.questions.length?q(C):t()},q=function(a){var b,c;return c=h.questions[a],b=[{progress:a+1+"/"+h.questions.length,head:h.name,text:c.text}],x(function(){var a,d,e,f,h;for(g.addClass(D),F(b),n(),f=c.answers,h=[],d=0,e=f.length;e>d;d++)a=f[d],h.push(j(a.text,{action:"answer",question_value:a.score}));return h})},t=function(){var a,b,c,d,e,f,k,l,m;for(d="",m=h.results,k=0,l=m.length;l>k;k++)e=m[k],f=parseInt(B),b=parseInt(e.score_min),a=parseInt(e.score_max),a>=f&&f>=b&&(d=e.text);return d?(y(h.hidden_code,B),c=[{progress:"Результаты теста",head:h.name,text:d}],x(function(){return g.removeClass(D),F(c),n(),j("Записаться на консультацию",{action:"contact_page"}),j("Пройти тест заново",{action:"start_test",id:i,repeat:!0}),j("Вернуться к списку тестов",{action:"start_page"})})):(g.removeClass(D),x(function(){return F(),s()}))},u=function(){return p.onLoad(function(){return A=p.getTestList(),v=!0})},s=function(){var a,b,c,d,e;for(n(),e=[],a=c=0,d=A.length;d>c;a=++c)b=A[a],e.push(j(b.object.name,{action:"start_test",id:a}));return e},y=function(a,b){return localStorage.setItem(a,b)},m=function(a){return localStorage[a]?localStorage[a]:!1},o=function(a){return localStorage.removeItem(a)},j=function(a,b){var c,d,e,f;d="";for(e in b)f=b[e],d+="data-"+e+'="'+f+'"';return c='<div class="test-button-container" '+d+">",c+='<button class="test-button">'+a+"</button>",c+="</div>",r(c)},r=function(a){return c.append(a)},n=function(){return c.empty()},a}(),a=new TestsView}.call(this),function(){!function(a){return a.fn.swipe=function(b){var c,d;return d=this,c={touchMinTime:50,threshold:{x:20,y:10},preventDefaultEvents:!0,swipeLeft:function(a,b){return console.log("swiped left, speed: "+b)},swipeRight:function(a,b){return console.log("swiped right, speed:"+b)},swipeMove:function(a){return console.log("swipe last move delta:"+a)},swipeCancel:function(){return console.log("swipe was canceled")}},d.settings=a.extend({},c,b),this?this.each(function(){var b,e,f,g,h,i,j,k,l,m,n,o;return h=a(this),o=!1,i=void 0,j={x:0,y:0,timestamp:0},e={x:0,y:0,timestamp:0},g={x:0,y:0,timestamp:0},b={x:0,y:0,time:0},n=function(a){return j=f(a),i=0,e={x:j.x,y:j.y,timestamp:j.timestamp},g={x:j.x,y:j.y,timestamp:j.timestamp},o=!0},m=function(a){return o?(i++,c.preventDefaultEvents&&a.preventDefault(),e=f(a),b.x=e.x-g.x,b.y=e.y-g.y,b.time=e.timestamp-g.timestamp,g.x=e.x,g.y=e.y,g.timestamp=e.timestamp,d.settings.swipeMove(b.x)):!1},l=function(){var a,c,f;return o=!1,i?(i=0,a=e.timestamp-j.timestamp,!a||a<d.settings.touchMinTime?(d.settings.swipeCancel(),!1):(f=b.x/b.time,c=j.x-e.x,c>0?(d.settings.swipeLeft(Math.abs(c),Math.abs(f)),!0):0>=c?(d.settings.swipeRight(Math.abs(c),Math.abs(f)),!0):d.settings.swipeCancel())):!1},k=function(){return o?(o=!1,d.settings.swipeCancel()):!1},f=function(a){var b;return b={},a.targetTouches&&(b.x=a.targetTouches[0].pageX),b.x=b.x||a.x,b.x=b.x||a.clientX,a.targetTouches&&(b.y=a.targetTouches[0].pageY),b.y=b.y||a.y,b.y=b.y||a.clientY,b.timestamp=a.timeStamp||Date.now(),b},this.addEventListener("touchstart",n,!1),this.addEventListener("touchmove",m,!1),this.addEventListener("touchend",l,!1),this.addEventListener("touchcancel",k,!1)}):!1}}(jQuery)}.call(this),function(){var a;a=function(a,b,c){var d;return null==b&&(b=100),null==c&&(c=!1),console.log("debounce"),d=void 0,function(){var e,f,g,h;return g=this,e=arguments,h=function(){return d=null,c?void 0:a.apply(g,e)},f=c&&!d,clearTimeout(d),d=setTimeout(h,b),f?a.apply(g,e):void 0}},function(b){return b.fn.horizontalParallax=function(c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q;return s={containerBgCss:{dark:"dark-container",light:"light-container"},itemClass:"parallax-item",arrowClass:"parallax-arrow",navItemClass:"parallax-nav-item",navBorderClass:"parallax-nav-border",headsCssClass:"parallax-heads",activeItemClass:"active",leftArrowClass:"left",rightArrowClass:"right",toRightCssClass:"to-right",toLeftCssClass:"to-left",animationTime:500},C=this,e=b(this),d=b("body, html"),f=void 0,A=[],B=[],g=void 0,j={left:"",right:""},p="",r=-1,N=0,q=-1,t=!1,z=function(){return C.settings=b.extend({},s,c),f=e.find("."+C.settings.headsCssClass),d.css({overflow:"hidden"}),r=0,k(),b(window).on("resize",function(){return k()}),setTimeout(function(){return b(document).scrollLeft()>0?(r=1,H(0)):void 0},500),O(),G()},k=function(){return x(),M(),D(r,!1),Q(r)},x=function(){return u(),v(),w(),g=e.find("."+C.settings.navBorderClass)},v=function(){var a;return A=[],a=0,e.find("."+C.settings.itemClass).each(function(c,d){var e;return e=parseInt(b(d).data("parallax")),A[b(d).data("index")]={object:b(d),left:a,parallax:1===e,background:b(d).data("background")},J(b(d)),I(b(d),a),a+=b(d).width()}),N=A.length},w=function(){var a;return B=[],a=e.find("."+C.settings.navItemClass),a.each(function(a,c){var d;return d=b(c).position().left+b(c).width(),B[b(c).data("index")]={object:b(c),right:d}})},J=function(a){return a.width(b(window).width())},I=function(a,b){return a.css({position:"absolute",left:b})},G=function(){var a,c,d,e,f,g;for(c in A)f=A[c],f.object.find(".parallax-text").on("mousedown",function(a){return a.stopPropagation()});for(c in B)f=B[c],f.object.on("click",function(a){return H(b(this).data("index")),a.stopPropagation()});j.left.on("click",function(a){return H(r-1),a.stopPropagation()}),j.right.on("click",function(a){return H(r+1),a.stopPropagation()}),g=function(a,c,d){var e;return n(a)?(e=2*Math.max(d,1),H(e*c<b(window).width()?r:a)):L()};for(c in A)f=A[c],f.object.swipe({swipeMove:function(a){return F(-a)},swipeLeft:function(a,b){var c;return c=r+1,g(c,a,b)},swipeRight:function(a,b){var c;return c=r-1,g(c,a,b)},swipeCancel:function(){return H(r)}});a=function(a,c){var d,e;return c?(a.preventDefault(),d=r+c,n(d)?H(d):(e=c*b(window).width()/5,F(e,!0))):!1},e=function(b){var c,d,e;return b=window.e||b,console.log(b),c=void 0,b.originalEvent&&(console.log("e.originalEvent"),console.log(b.originalEvent),c=b.originalEvent.deltaX+b.originalEvent.deltaY,c=-c,console.log("e.originalEvent exists: "+c)),console.log("e.wheelDelta"),console.log(b.wheelDelta),console.log("e.detail"),console.log(b.detail),console.log("e.originalEvent.detail"),console.log(b.originalEvent.detail),c=c||b.wheelDelta||-b.detail||-b.originalEvent.detail,console.log("before summary: "+c),c=Math.sign(c),console.log("summary: "+c),e=void 0,console.log(c),0>c&&(d=1),c>0&&(d=-1),a(b,d)};for(c in A)f=A[c],f.object.on("mousewheel DOMMouseScroll",e);return d=function(b){var c;return(37===b.which||37===b.keyCode)&&(c=-1),(39===b.which||39===b.keyCode)&&(c=1),a(b,c)},b(document).on("keydown",d)},F=function(a,c){return null==c&&(c=!1),b(document).scrollLeft(b(document).scrollLeft()+a),c?L():void 0},H=function(a){return console.log("scroll handler"),E(a)},E=a(function(a){return console.log("scroll debounced"),o(a)?(t=!0,a!==r&&(O(),Q(a)),D(a)):!1},250,!0),D=function(a,b){var c,e,g,j;return null==b&&(b=!0),j=A[a].left,c=a-r,e=A[a].object.data("headstage"),(void 0===e||e===!1)&&(e=-1),g=q,q=e,e!==g&&(-1===e&&c>0?(f.attr("data-headstage","to-hide"),setTimeout(function(){return f.attr("data-headstage",e)},C.settings.animationTime)):f.attr("data-headstage",e)),h(a),b?(a!==r&&i(a,c),d.animate({scrollLeft:j},C.settings.animationTime,function(){return r=a,t=!1})):(d.scrollLeft(j),r=a)},i=function(a,b){var c,d;return Modernizr.touch?!0:(c=A[a].object.find(".parallax-text"),d=b>0?C.settings.toRightCssClass:C.settings.toLeftCssClass,c.addClass(d),setTimeout(function(){return c.removeClass(d)},3*C.settings.animationTime))},Q=function(a){var b,c,d;if(B[a]&&B[a].right&&g.css({width:B[a].right}),B[a]&&B[a].right)c=a;else{c=0;for(b in B)d=B[b],a>b&&(c=b)}return g.css({width:B[c].right})},u=function(){var a;return a="."+C.settings.arrowClass,a+="."+C.settings.leftArrowClass,j.left=e.find(a),a="."+C.settings.arrowClass,a+="."+C.settings.rightArrowClass,j.right=e.find(a)},P=void 0,O=function(){return y(),clearTimeout(P),P=setTimeout(function(){return M()},2*C.settings.animationTime)},y=function(){return j.left.addClass("hidden"),j.right.addClass("hidden")},M=function(){return l()&&j.left.removeClass("hidden"),m()?j.right.removeClass("hidden"):void 0},n=function(a){var b;return b=A[r],b=b&&A[r].parallax,b=b&&A[a],b=b&&A[a].parallax,b===!0},o=function(a){return t?!1:N>a&&a>=0},l=function(){return r-1>=0},m=function(){return N>r+1},L=function(){var a,c,d,e;a=0,c=b(document).scrollLeft()+b(window).width()/2;for(d in A)e=A[d],c>e.left&&(a=parseInt(d));return r=a,h(a)},K=function(a){var b,c;return b=A[a].background,c=p,b!==c?(e.removeClass(C.settings.containerBgCss[c]),e.addClass(C.settings.containerBgCss[b]),p=b):void 0},h=function(a){var b,c,d,e;b=C.settings.activeItemClass,e=[];for(c in A)d=A[c],c=parseInt(c),c===a?(d.object.addClass(b),e.push(K(a))):e.push(d.object.removeClass(b));return e},z()}}(jQuery)}.call(this),function(){var a,b,c,d,e,f,g,h,i;i={cssAnimationTime:550,wrapper_css:"cube-wrapper",parent_container:$(".cubes"),parent_rotated:"rotated",defaultStage:"front"},c=["first","second","third"],d="front",a=$("."+i.wrapper_css),g=function(){var a;return a=$(window).width()/6,$(".cube-side.left").css({transform:"rotateY(90deg) translateZ("+a+"px)"}),$(".cube-side.front").css({transform:"translateZ("+a+"px)"}),$(".cube-side.right").css({transform:"rotateY(-90deg) translateZ("+a+"px)"}),$(".cube-side.back").css({transform:"rotateY(180deg) translateZ("+a+"px)"})},g(),$(".cube-open").on("click",function(){return f($(this).closest("."+i.wrapper_css))}),$(".cube-close").on("click",function(){return f($(this).closest("."+i.wrapper_css))}),f=function(a){var b,d,f,g;for(d=!1,f=0,g=c.length;g>f;f++)b=c[f],d||(d=e(a,b));return h()},e=function(a,b){return d!==i.defaultStage?(d=i.defaultStage,!0):a.hasClass(b)?(d=b,!0):!1},b=function(a,b){return setTimeout(function(){return a()},b)},h=function(){var a,e,f,g,h,j,k;for(g=[function(){return $(".scale").each(function(){return $(this).addClass("on")})},function(){return $(".cube").each(function(){var a,b,e,f;for(d!==i.defaultStage?i.parent_container.addClass(i.parent_rotated):i.parent_container.removeClass(i.parent_rotated),f=[],b=0,e=c.length;e>b;b++)a=c[b],f.push(a!==d?$(this).removeClass(a):$(this).addClass(a));return f})},function(){return $(".scale").each(function(){return $(this).removeClass("on")})}],a=0,k=[],e=h=0,j=g.length;j>h;e=++h)f=g[e],k.push(b(f,i.cssAnimationTime*e));return k}}.call(this),function(){$(document).ready(function(){var a;return a={wrapper:$(".hover-photo-wrap"),first_item:$(".individual-therapy"),second_item:$(".group-therapy"),left_css:"move-left",right_css:"move-right"},a.first_item.mouseenter(function(){return a.wrapper.addClass(a.left_css)}),a.first_item.mouseleave(function(){return a.wrapper.removeClass(a.left_css)}),a.second_item.mouseenter(function(){return a.wrapper.addClass(a.right_css)}),a.second_item.mouseleave(function(){return a.wrapper.removeClass(a.right_css)})})}.call(this),function(){var a,b,c,d;b=void 0,a=void 0,d=function(a,b){var c;return null==b&&(b=1),c=$(window).height(),a.each(function(a,d){return $(d).height(c*b)})},$(document).ready(function(){return c(),$(window).resize(function(){return c()})}),c=function(){var c,e,f,g;return Modernizr.mq("only all and (max-width: 991px)")?(f=a,c=$(".test-container"),"desktop"===b&&location.reload(),$(window).width()<$(window).height()?(a="vertival",g=.5):(a="horizontal",g=1),f!==a&&(d($(".bg-image"),g),d($(".mk-header-wrapper"),g),d(c,1)),e='.test-button-container[data-action="contact_page"]',c.on("click",e,function(){var a;return a=$(".feedback").offset().top,$("html,body").animate({scrollTop:a},500,"swing")}),b="mobile"):("mobile"===b&&location.reload(),d($(".item-column")),"desktop"!==b&&$(".parallax-container").horizontalParallax(),b="desktop")}}.call(this);